.\" Man page generated from reStructuredText.
.
.TH "DB_MAINTENANCE-RUN" "1" "Apr 23, 2025" "3.54.5" "OCI CLI Command Reference"
.SH NAME
db_maintenance-run \- 
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH DESCRIPTION
.sp
Details of a maintenance run.
.SH AVAILABLE COMMANDS
.INDENT 0.0
.IP \(bu 2
create
.IP \(bu 2
get
.IP \(bu 2
list
.IP \(bu 2
update
.UNINDENT
.SS \fBcreate\fP
.INDENT 0.0
.IP \(bu 2
\fI\%Description\fP
.IP \(bu 2
\fI\%Usage\fP
.IP \(bu 2
\fI\%Required Parameters\fP
.IP \(bu 2
\fI\%Optional Parameters\fP
.IP \(bu 2
\fI\%Global Parameters\fP
.IP \(bu 2
\fI\%Example using required parameter\fP
.UNINDENT
.SS Description
.sp
Creates a maintenance run with one of the following: 1. The latest available release update patch (RUP) for the Autonomous Container Database. 2. The latest available RUP and DST time\-zone (TZ) file updates for the Autonomous Container Database. 3. The DST TZ file updates for the Autonomous Container Database.
.SS Usage
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
oci db maintenance\-run create [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Required Parameters
.INDENT 0.0
.TP
.B \-\-patch\-type [text]
.UNINDENT
.sp
Patch type, either “QUARTERLY”, “TIMEZONE” or “CUSTOM_DATABASE_SOFTWARE_IMAGE”.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
CUSTOM_DATABASE_SOFTWARE_IMAGE, QUARTERLY, TIMEZONE
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-target\-resource\-id [text]
.UNINDENT
.sp
The ID of the target resource for which the maintenance run should be created.
.INDENT 0.0
.TP
.B \-\-time\-scheduled [datetime]
.UNINDENT
.sp
The date and time that update should be scheduled.
.INDENT 0.0
.INDENT 3.5
The following datetime formats are supported:
.UNINDENT
.UNINDENT
.SS UTC with microseconds
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
Format: YYYY\-MM\-DDTHH:mm:ss.ssssssTZD
Example: 2017\-09\-15T20:30:00.123456Z

UTC with milliseconds
***********************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ss.sssTZD
    Example: 2017\-09\-15T20:30:00.123Z

UTC without milliseconds
**************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ssTZD
    Example: 2017\-09\-15T20:30:00Z

UTC with minute precision
**************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mmTZD
    Example: 2017\-09\-15T20:30Z
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Timezone with microseconds
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
Format: YYYY\-MM\-DDTHH:mm:ssTZD
Example: 2017\-09\-15T12:30:00.456789\-08:00, 2017\-09\-15T12:30:00.456789\-0800

Timezone with milliseconds
***************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ssTZD
    Example: 2017\-09\-15T12:30:00.456\-08:00, 2017\-09\-15T12:30:00.456\-0800

Timezone without milliseconds
*******************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ssTZD
    Example: 2017\-09\-15T12:30:00\-08:00, 2017\-09\-15T12:30:00\-0800

Timezone with minute precision
*******************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mmTZD
    Example: 2017\-09\-15T12:30\-08:00, 2017\-09\-15T12:30\-0800

Short date and time
********************
The timezone for this date and time will be taken as UTC (Needs to be surrounded by single or double quotes)

\&.. code::

    Format: \(aqYYYY\-MM\-DD HH:mm\(aq or "YYYY\-MM\-DD HH:mm"
    Example: \(aq2017\-09\-15 17:25\(aq

Date Only
**********
This date will be taken as midnight UTC of that day

\&.. code::

    Format: YYYY\-MM\-DD
    Example: 2017\-09\-15

Epoch seconds
**************
\&.. code::

    Example: 1412195400
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Optional Parameters
.INDENT 0.0
.TP
.B \-\-compartment\-id, \-c [text]
.UNINDENT
.sp
The \fI\%OCID\fP <\fBhttps://docs.cloud.oracle.com/Content/General/Concepts/identifiers.htm\fP> of the compartment containing the Maintenance Run.
.INDENT 0.0
.TP
.B \-\-database\-software\-image\-id [text]
.UNINDENT
.sp
The Autonomous Database Software Image \fI\%OCID\fP <\fBhttps://docs.cloud.oracle.com/Content/General/Concepts/identifiers.htm\fP>
.INDENT 0.0
.TP
.B \-\-from\-json [text]
.UNINDENT
.sp
Provide input to this command as a JSON document from a file using the \fI\%file://path\-to/file\fP syntax.
.sp
The \fB\-\-generate\-full\-command\-json\-input\fP option can be used to generate a sample json file to be used with this command option. The key names are pre\-populated and match the command option names (converted to camelCase format, e.g. compartment\-id –> compartmentId), while the values of the keys need to be populated by the user before using the sample file as an input to this command. For any command option that accepts multiple values, the value of the key can be a JSON array.
.sp
Options can still be provided on the command line. If an option exists in both the JSON document and the command line then the command line specified value will be used.
.sp
For examples on usage of this option, please see our “using CLI with advanced JSON options” link: \fI\%https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliusing.htm#AdvancedJSONOptions\fP
.INDENT 0.0
.TP
.B \-\-is\-dst\-file\-update\-enabled [boolean]
.UNINDENT
.sp
Indicates if an automatic DST Time Zone file update is enabled for the Autonomous Container Database. If enabled along with Release Update, patching will be done in a Non\-Rolling manner.
.INDENT 0.0
.TP
.B \-\-max\-wait\-seconds [integer]
.UNINDENT
.sp
The maximum time to wait for the resource to reach the lifecycle state defined by \fB\-\-wait\-for\-state\fP\&. Defaults to 1200 seconds.
.INDENT 0.0
.TP
.B \-\-patching\-mode [text]
.UNINDENT
.sp
Cloud Exadata infrastructure node patching method, either “ROLLING” or “NONROLLING”. Default value is ROLLING.
.sp
\fIIMPORTANT\fP: Non\-rolling infrastructure patching involves system down time. See \fI\%Oracle\-Managed Infrastructure Maintenance Updates\fP <\fBhttps://docs.cloud.oracle.com/iaas/Content/Database/Concepts/examaintenance.htm#Oracle\fP> for more information.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
NONROLLING, ROLLING
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-for\-state [text]
.UNINDENT
.sp
This operation creates, modifies or deletes a resource that has a defined lifecycle state. Specify this option to perform the action and then wait until the resource reaches a given lifecycle state. Multiple states can be specified, returning on the first state. For example, \fB\-\-wait\-for\-state\fP SUCCEEDED \fB\-\-wait\-for\-state\fP FAILED would return on whichever lifecycle state is reached first. If timeout is reached, a return code of 2 is returned. For any other error, a return code of 1 is returned.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
CANCELED, DELETED, DELETING, FAILED, IN_PROGRESS, SCHEDULED, SKIPPED, SUCCEEDED, UPDATING
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-interval\-seconds [integer]
.UNINDENT
.sp
Check every \fB\-\-wait\-interval\-seconds\fP to see whether the resource has reached the lifecycle state defined by \fB\-\-wait\-for\-state\fP\&. Defaults to 30 seconds.
.SS Global Parameters
.sp
Use \fBoci \-\-help\fP for help on global parameters.
.sp
\fB\-\-auth\-purpose\fP, \fB\-\-auth\fP, \fB\-\-cert\-bundle\fP, \fB\-\-cli\-auto\-prompt\fP, \fB\-\-cli\-rc\-file\fP, \fB\-\-config\-file\fP, \fB\-\-connection\-timeout\fP, \fB\-\-debug\fP, \fB\-\-defaults\-file\fP, \fB\-\-endpoint\fP, \fB\-\-generate\-full\-command\-json\-input\fP, \fB\-\-generate\-param\-json\-input\fP, \fB\-\-help\fP, \fB\-\-latest\-version\fP, \fB\-\-max\-retries\fP, \fB\-\-no\-retry\fP, \fB\-\-opc\-client\-request\-id\fP, \fB\-\-opc\-request\-id\fP, \fB\-\-output\fP, \fB\-\-profile\fP, \fB\-\-proxy\fP, \fB\-\-query\fP, \fB\-\-raw\-output\fP, \fB\-\-read\-timeout\fP, \fB\-\-realm\-specific\-endpoint\fP, \fB\-\-region\fP, \fB\-\-release\-info\fP, \fB\-\-request\-id\fP, \fB\-\-version\fP, \fB\-?\fP, \fB\-d\fP, \fB\-h\fP, \fB\-i\fP, \fB\-v\fP
.SS Example using required parameter
.sp
Copy the following CLI commands into a file named example.sh. Run the command by typing “bash example.sh” and replacing the example parameters with your own.
.sp
Please note this sample will only work in the POSIX\-compliant bash\-like shell. You need to set up \fI\%the OCI configuration\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm#configfile\fP> and \fI\%appropriate security policies\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm\fP> before trying the examples.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
    export patch_type=<substitute\-value\-of\-patch_type> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-patch\-type
    export target_resource_id=<substitute\-value\-of\-target_resource_id> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-target\-resource\-id
    export time_scheduled=<substitute\-value\-of\-time_scheduled> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-time\-scheduled

    oci db maintenance\-run create \-\-patch\-type $patch_type \-\-target\-resource\-id $target_resource_id \-\-time\-scheduled $time_scheduled
.ft P
.fi
.UNINDENT
.UNINDENT
.SS \fBget\fP
.INDENT 0.0
.IP \(bu 2
\fI\%Description\fP
.IP \(bu 2
\fI\%Usage\fP
.IP \(bu 2
\fI\%Required Parameters\fP
.IP \(bu 2
\fI\%Optional Parameters\fP
.IP \(bu 2
\fI\%Global Parameters\fP
.IP \(bu 2
\fI\%Example using required parameter\fP
.UNINDENT
.SS Description
.sp
Gets information about the specified maintenance run.
.SS Usage
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
oci db maintenance\-run get [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Required Parameters
.INDENT 0.0
.TP
.B \-\-maintenance\-run\-id [text]
.UNINDENT
.sp
The maintenance run OCID.
.SS Optional Parameters
.INDENT 0.0
.TP
.B \-\-from\-json [text]
.UNINDENT
.sp
Provide input to this command as a JSON document from a file using the \fI\%file://path\-to/file\fP syntax.
.sp
The \fB\-\-generate\-full\-command\-json\-input\fP option can be used to generate a sample json file to be used with this command option. The key names are pre\-populated and match the command option names (converted to camelCase format, e.g. compartment\-id –> compartmentId), while the values of the keys need to be populated by the user before using the sample file as an input to this command. For any command option that accepts multiple values, the value of the key can be a JSON array.
.sp
Options can still be provided on the command line. If an option exists in both the JSON document and the command line then the command line specified value will be used.
.sp
For examples on usage of this option, please see our “using CLI with advanced JSON options” link: \fI\%https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliusing.htm#AdvancedJSONOptions\fP
.SS Global Parameters
.sp
Use \fBoci \-\-help\fP for help on global parameters.
.sp
\fB\-\-auth\-purpose\fP, \fB\-\-auth\fP, \fB\-\-cert\-bundle\fP, \fB\-\-cli\-auto\-prompt\fP, \fB\-\-cli\-rc\-file\fP, \fB\-\-config\-file\fP, \fB\-\-connection\-timeout\fP, \fB\-\-debug\fP, \fB\-\-defaults\-file\fP, \fB\-\-endpoint\fP, \fB\-\-generate\-full\-command\-json\-input\fP, \fB\-\-generate\-param\-json\-input\fP, \fB\-\-help\fP, \fB\-\-latest\-version\fP, \fB\-\-max\-retries\fP, \fB\-\-no\-retry\fP, \fB\-\-opc\-client\-request\-id\fP, \fB\-\-opc\-request\-id\fP, \fB\-\-output\fP, \fB\-\-profile\fP, \fB\-\-proxy\fP, \fB\-\-query\fP, \fB\-\-raw\-output\fP, \fB\-\-read\-timeout\fP, \fB\-\-realm\-specific\-endpoint\fP, \fB\-\-region\fP, \fB\-\-release\-info\fP, \fB\-\-request\-id\fP, \fB\-\-version\fP, \fB\-?\fP, \fB\-d\fP, \fB\-h\fP, \fB\-i\fP, \fB\-v\fP
.SS Example using required parameter
.sp
Copy the following CLI commands into a file named example.sh. Run the command by typing “bash example.sh” and replacing the example parameters with your own.
.sp
Please note this sample will only work in the POSIX\-compliant bash\-like shell. You need to set up \fI\%the OCI configuration\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm#configfile\fP> and \fI\%appropriate security policies\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm\fP> before trying the examples.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
    export patch_type=<substitute\-value\-of\-patch_type> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-patch\-type
    export target_resource_id=<substitute\-value\-of\-target_resource_id> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-target\-resource\-id
    export time_scheduled=<substitute\-value\-of\-time_scheduled> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-time\-scheduled

    maintenance_run_id=$(oci db maintenance\-run create \-\-patch\-type $patch_type \-\-target\-resource\-id $target_resource_id \-\-time\-scheduled $time_scheduled \-\-query data.id \-\-raw\-output)

    oci db maintenance\-run get \-\-maintenance\-run\-id $maintenance_run_id
.ft P
.fi
.UNINDENT
.UNINDENT
.SS \fBlist\fP
.INDENT 0.0
.IP \(bu 2
\fI\%Description\fP
.IP \(bu 2
\fI\%Usage\fP
.IP \(bu 2
\fI\%Required Parameters\fP
.IP \(bu 2
\fI\%Optional Parameters\fP
.IP \(bu 2
\fI\%Global Parameters\fP
.IP \(bu 2
\fI\%Example using required parameter\fP
.UNINDENT
.SS Description
.sp
Gets a list of the maintenance runs in the specified compartment.
.SS Usage
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
oci db maintenance\-run list [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Required Parameters
.INDENT 0.0
.TP
.B \-\-compartment\-id, \-c [text]
.UNINDENT
.sp
The compartment \fI\%OCID\fP <\fBhttps://docs.cloud.oracle.com/Content/General/Concepts/identifiers.htm\fP>\&.
.SS Optional Parameters
.INDENT 0.0
.TP
.B \-\-all
.UNINDENT
.sp
Fetches all pages of results. If you provide this option, then you cannot provide the \fB\-\-limit\fP option.
.INDENT 0.0
.TP
.B \-\-availability\-domain [text]
.UNINDENT
.sp
A filter to return only resources that match the given availability domain exactly.
.INDENT 0.0
.TP
.B \-\-from\-json [text]
.UNINDENT
.sp
Provide input to this command as a JSON document from a file using the \fI\%file://path\-to/file\fP syntax.
.sp
The \fB\-\-generate\-full\-command\-json\-input\fP option can be used to generate a sample json file to be used with this command option. The key names are pre\-populated and match the command option names (converted to camelCase format, e.g. compartment\-id –> compartmentId), while the values of the keys need to be populated by the user before using the sample file as an input to this command. For any command option that accepts multiple values, the value of the key can be a JSON array.
.sp
Options can still be provided on the command line. If an option exists in both the JSON document and the command line then the command line specified value will be used.
.sp
For examples on usage of this option, please see our “using CLI with advanced JSON options” link: \fI\%https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliusing.htm#AdvancedJSONOptions\fP
.INDENT 0.0
.TP
.B \-\-is\-local\-adg [boolean]
.UNINDENT
.sp
A filter to return the maintenance history results for the local standby Autonomous Database Serverless only.
.INDENT 0.0
.TP
.B \-\-lifecycle\-state [text]
.UNINDENT
.sp
A filter to return only resources that match the given lifecycle state exactly.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
CANCELED, DELETED, DELETING, FAILED, IN_PROGRESS, SCHEDULED, SKIPPED, SUCCEEDED, UPDATING
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-limit [integer]
.UNINDENT
.sp
The maximum number of items to return per page.
.INDENT 0.0
.TP
.B \-\-maintenance\-subtype [text]
.UNINDENT
.sp
The sub\-type of the maintenance run.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
CRITICAL, CUSTOM_DATABASE_SOFTWARE_IMAGE, DATABASE, HARDWARE, INFRASTRUCTURE, ONEOFF, QUARTERLY, SECURITY_MONTHLY, TIMEZONE
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-maintenance\-type [text]
.UNINDENT
.sp
The maintenance type.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
PLANNED, UNPLANNED
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-page [text]
.UNINDENT
.sp
The pagination token to continue listing from.
.INDENT 0.0
.TP
.B \-\-page\-size [integer]
.UNINDENT
.sp
When fetching results, the number of results to fetch per call. Only valid when used with \fB\-\-all\fP or \fB\-\-limit\fP, and ignored otherwise.
.INDENT 0.0
.TP
.B \-\-sort\-by [text]
.UNINDENT
.sp
The field to sort by.  You can provide one sort order (\fIsortOrder\fP).  Default order for TIME_SCHEDULED and TIME_ENDED is descending. Default order for DISPLAYNAME is ascending. The DISPLAYNAME sort order is case sensitive.
.sp
\fBNote:\fP If you do not include the availability domain filter, the resources are grouped by availability domain, then sorted.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
DISPLAYNAME, TIME_ENDED, TIME_SCHEDULED
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sort\-order [text]
.UNINDENT
.sp
The sort order to use, either ascending (\fIASC\fP) or descending (\fIDESC\fP).
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
ASC, DESC
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-target\-resource\-id [text]
.UNINDENT
.sp
The target resource ID.
.INDENT 0.0
.TP
.B \-\-target\-resource\-type [text]
.UNINDENT
.sp
The type of the target resource.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
AUTONOMOUS_CONTAINER_DATABASE, AUTONOMOUS_DATABASE, AUTONOMOUS_EXADATA_INFRASTRUCTURE, AUTONOMOUS_VM_CLUSTER, CLOUD_AUTONOMOUS_VM_CLUSTER, CLOUD_EXADATA_INFRASTRUCTURE, EXACC_INFRASTRUCTURE, EXADATA_DB_SYSTEM
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Global Parameters
.sp
Use \fBoci \-\-help\fP for help on global parameters.
.sp
\fB\-\-auth\-purpose\fP, \fB\-\-auth\fP, \fB\-\-cert\-bundle\fP, \fB\-\-cli\-auto\-prompt\fP, \fB\-\-cli\-rc\-file\fP, \fB\-\-config\-file\fP, \fB\-\-connection\-timeout\fP, \fB\-\-debug\fP, \fB\-\-defaults\-file\fP, \fB\-\-endpoint\fP, \fB\-\-generate\-full\-command\-json\-input\fP, \fB\-\-generate\-param\-json\-input\fP, \fB\-\-help\fP, \fB\-\-latest\-version\fP, \fB\-\-max\-retries\fP, \fB\-\-no\-retry\fP, \fB\-\-opc\-client\-request\-id\fP, \fB\-\-opc\-request\-id\fP, \fB\-\-output\fP, \fB\-\-profile\fP, \fB\-\-proxy\fP, \fB\-\-query\fP, \fB\-\-raw\-output\fP, \fB\-\-read\-timeout\fP, \fB\-\-realm\-specific\-endpoint\fP, \fB\-\-region\fP, \fB\-\-release\-info\fP, \fB\-\-request\-id\fP, \fB\-\-version\fP, \fB\-?\fP, \fB\-d\fP, \fB\-h\fP, \fB\-i\fP, \fB\-v\fP
.SS Example using required parameter
.sp
Copy the following CLI commands into a file named example.sh. Run the command by typing “bash example.sh” and replacing the example parameters with your own.
.sp
Please note this sample will only work in the POSIX\-compliant bash\-like shell. You need to set up \fI\%the OCI configuration\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm#configfile\fP> and \fI\%appropriate security policies\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm\fP> before trying the examples.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
    export compartment_id=<substitute\-value\-of\-compartment_id> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/list.html#cmdoption\-compartment\-id

    oci db maintenance\-run list \-\-compartment\-id $compartment_id
.ft P
.fi
.UNINDENT
.UNINDENT
.SS \fBupdate\fP
.INDENT 0.0
.IP \(bu 2
\fI\%Description\fP
.IP \(bu 2
\fI\%Usage\fP
.IP \(bu 2
\fI\%Required Parameters\fP
.IP \(bu 2
\fI\%Optional Parameters\fP
.IP \(bu 2
\fI\%Global Parameters\fP
.IP \(bu 2
\fI\%Example using required parameter\fP
.UNINDENT
.SS Description
.sp
Updates the properties of a maintenance run, such as the state of a maintenance run.
.SS Usage
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
oci db maintenance\-run update [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Required Parameters
.INDENT 0.0
.TP
.B \-\-maintenance\-run\-id [text]
.UNINDENT
.sp
The maintenance run OCID.
.SS Optional Parameters
.INDENT 0.0
.TP
.B \-\-current\-custom\-action\-timeout\-in\-mins [integer]
.UNINDENT
.sp
The current custom action timeout between the current database servers during waiting state in addition to custom action timeout, from 0 (zero) to 30 minutes.
.INDENT 0.0
.TP
.B \-\-custom\-action\-timeout\-in\-mins [integer]
.UNINDENT
.sp
Determines the amount of time the system will wait before the start of each database server patching operation. Specify a number of minutes from 15 to 120.
.INDENT 0.0
.TP
.B \-\-from\-json [text]
.UNINDENT
.sp
Provide input to this command as a JSON document from a file using the \fI\%file://path\-to/file\fP syntax.
.sp
The \fB\-\-generate\-full\-command\-json\-input\fP option can be used to generate a sample json file to be used with this command option. The key names are pre\-populated and match the command option names (converted to camelCase format, e.g. compartment\-id –> compartmentId), while the values of the keys need to be populated by the user before using the sample file as an input to this command. For any command option that accepts multiple values, the value of the key can be a JSON array.
.sp
Options can still be provided on the command line. If an option exists in both the JSON document and the command line then the command line specified value will be used.
.sp
For examples on usage of this option, please see our “using CLI with advanced JSON options” link: \fI\%https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliusing.htm#AdvancedJSONOptions\fP
.INDENT 0.0
.TP
.B \-\-if\-match [text]
.UNINDENT
.sp
For optimistic concurrency control. In the PUT or DELETE call for a resource, set the \fIif\-match\fP parameter to the value of the etag from a previous GET or POST response for that resource.  The resource will be updated or deleted only if the etag you provide matches the resource’s current etag value.
.INDENT 0.0
.TP
.B \-\-is\-custom\-action\-timeout\-enabled [boolean]
.UNINDENT
.sp
If true, enables the configuration of a custom action timeout (waiting period) between database servers patching operations.
.INDENT 0.0
.TP
.B \-\-is\-enabled [boolean]
.UNINDENT
.sp
If \fIFALSE\fP, skips the maintenance run.
.INDENT 0.0
.TP
.B \-\-is\-patch\-now\-enabled [boolean]
.UNINDENT
.sp
If set to \fITRUE\fP, starts patching immediately.
.INDENT 0.0
.TP
.B \-\-is\-resume\-patching [boolean]
.UNINDENT
.sp
If true, then the patching is resumed and the next component will be patched immediately.
.INDENT 0.0
.TP
.B \-\-max\-wait\-seconds [integer]
.UNINDENT
.sp
The maximum time to wait for the resource to reach the lifecycle state defined by \fB\-\-wait\-for\-state\fP\&. Defaults to 1200 seconds.
.INDENT 0.0
.TP
.B \-\-patch\-id [text]
.UNINDENT
.sp
The \fI\%OCID\fP <\fBhttps://docs.cloud.oracle.com/Content/General/Concepts/identifiers.htm\fP> of the patch to be applied in the maintenance run.
.INDENT 0.0
.TP
.B \-\-patching\-mode [text]
.UNINDENT
.sp
Cloud Exadata infrastructure node patching method, either “ROLLING” or “NONROLLING”. Default value is ROLLING.
.sp
\fIIMPORTANT\fP: Non\-rolling infrastructure patching involves system down time. See \fI\%Oracle\-Managed Infrastructure Maintenance Updates\fP <\fBhttps://docs.cloud.oracle.com/iaas/Content/Database/Concepts/examaintenance.htm#Oracle\fP> for more information.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
NONROLLING, ROLLING
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-target\-db\-server\-version [text]
.UNINDENT
.sp
The target database server system software version for the patching operation.
.INDENT 0.0
.TP
.B \-\-target\-storage\-server\-version [text]
.UNINDENT
.sp
The target storage cell system software version for the patching operation.
.INDENT 0.0
.TP
.B \-\-time\-scheduled [datetime]
.UNINDENT
.sp
The scheduled date and time of the maintenance run to update.
.INDENT 0.0
.INDENT 3.5
The following datetime formats are supported:
.UNINDENT
.UNINDENT
.SS UTC with microseconds
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
Format: YYYY\-MM\-DDTHH:mm:ss.ssssssTZD
Example: 2017\-09\-15T20:30:00.123456Z

UTC with milliseconds
***********************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ss.sssTZD
    Example: 2017\-09\-15T20:30:00.123Z

UTC without milliseconds
**************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ssTZD
    Example: 2017\-09\-15T20:30:00Z

UTC with minute precision
**************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mmTZD
    Example: 2017\-09\-15T20:30Z
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Timezone with microseconds
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
Format: YYYY\-MM\-DDTHH:mm:ssTZD
Example: 2017\-09\-15T12:30:00.456789\-08:00, 2017\-09\-15T12:30:00.456789\-0800

Timezone with milliseconds
***************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ssTZD
    Example: 2017\-09\-15T12:30:00.456\-08:00, 2017\-09\-15T12:30:00.456\-0800

Timezone without milliseconds
*******************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mm:ssTZD
    Example: 2017\-09\-15T12:30:00\-08:00, 2017\-09\-15T12:30:00\-0800

Timezone with minute precision
*******************************
\&.. code::

    Format: YYYY\-MM\-DDTHH:mmTZD
    Example: 2017\-09\-15T12:30\-08:00, 2017\-09\-15T12:30\-0800

Short date and time
********************
The timezone for this date and time will be taken as UTC (Needs to be surrounded by single or double quotes)

\&.. code::

    Format: \(aqYYYY\-MM\-DD HH:mm\(aq or "YYYY\-MM\-DD HH:mm"
    Example: \(aq2017\-09\-15 17:25\(aq

Date Only
**********
This date will be taken as midnight UTC of that day

\&.. code::

    Format: YYYY\-MM\-DD
    Example: 2017\-09\-15

Epoch seconds
**************
\&.. code::

    Example: 1412195400
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-for\-state [text]
.UNINDENT
.sp
This operation creates, modifies or deletes a resource that has a defined lifecycle state. Specify this option to perform the action and then wait until the resource reaches a given lifecycle state. Multiple states can be specified, returning on the first state. For example, \fB\-\-wait\-for\-state\fP SUCCEEDED \fB\-\-wait\-for\-state\fP FAILED would return on whichever lifecycle state is reached first. If timeout is reached, a return code of 2 is returned. For any other error, a return code of 1 is returned.
.sp
Accepted values are:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
CANCELED, DELETED, DELETING, FAILED, IN_PROGRESS, SCHEDULED, SKIPPED, SUCCEEDED, UPDATING
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-interval\-seconds [integer]
.UNINDENT
.sp
Check every \fB\-\-wait\-interval\-seconds\fP to see whether the resource has reached the lifecycle state defined by \fB\-\-wait\-for\-state\fP\&. Defaults to 30 seconds.
.SS Global Parameters
.sp
Use \fBoci \-\-help\fP for help on global parameters.
.sp
\fB\-\-auth\-purpose\fP, \fB\-\-auth\fP, \fB\-\-cert\-bundle\fP, \fB\-\-cli\-auto\-prompt\fP, \fB\-\-cli\-rc\-file\fP, \fB\-\-config\-file\fP, \fB\-\-connection\-timeout\fP, \fB\-\-debug\fP, \fB\-\-defaults\-file\fP, \fB\-\-endpoint\fP, \fB\-\-generate\-full\-command\-json\-input\fP, \fB\-\-generate\-param\-json\-input\fP, \fB\-\-help\fP, \fB\-\-latest\-version\fP, \fB\-\-max\-retries\fP, \fB\-\-no\-retry\fP, \fB\-\-opc\-client\-request\-id\fP, \fB\-\-opc\-request\-id\fP, \fB\-\-output\fP, \fB\-\-profile\fP, \fB\-\-proxy\fP, \fB\-\-query\fP, \fB\-\-raw\-output\fP, \fB\-\-read\-timeout\fP, \fB\-\-realm\-specific\-endpoint\fP, \fB\-\-region\fP, \fB\-\-release\-info\fP, \fB\-\-request\-id\fP, \fB\-\-version\fP, \fB\-?\fP, \fB\-d\fP, \fB\-h\fP, \fB\-i\fP, \fB\-v\fP
.SS Example using required parameter
.sp
Copy the following CLI commands into a file named example.sh. Run the command by typing “bash example.sh” and replacing the example parameters with your own.
.sp
Please note this sample will only work in the POSIX\-compliant bash\-like shell. You need to set up \fI\%the OCI configuration\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/cliinstall.htm#configfile\fP> and \fI\%appropriate security policies\fP <\fBhttps://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/policygetstarted.htm\fP> before trying the examples.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
    export patch_type=<substitute\-value\-of\-patch_type> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-patch\-type
    export target_resource_id=<substitute\-value\-of\-target_resource_id> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-target\-resource\-id
    export time_scheduled=<substitute\-value\-of\-time_scheduled> # https://docs.cloud.oracle.com/en\-us/iaas/tools/oci\-cli/latest/oci_cli_docs/cmdref/db/maintenance\-run/create.html#cmdoption\-time\-scheduled

    maintenance_run_id=$(oci db maintenance\-run create \-\-patch\-type $patch_type \-\-target\-resource\-id $target_resource_id \-\-time\-scheduled $time_scheduled \-\-query data.id \-\-raw\-output)

    oci db maintenance\-run update \-\-maintenance\-run\-id $maintenance_run_id
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
Oracle
.SH COPYRIGHT
2016, 2025, Oracle
.\" Generated by docutils manpage writer.
.
