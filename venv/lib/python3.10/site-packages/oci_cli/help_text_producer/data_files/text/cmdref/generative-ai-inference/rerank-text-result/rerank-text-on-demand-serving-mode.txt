"rerank-text-on-demand-serving-mode"
************************************

* Description

* Usage

* Required Parameters

* Optional Parameters

* Global Parameters

* Example using required parameter


Description
===========

Reranks the text responses based on the input documents and a prompt.

Rerank assigns an index and a relevance score to each document,
indicating which document is most related to the prompt.


Usage
=====

   oci generative-ai-inference rerank-text-result rerank-text-on-demand-serving-mode [OPTIONS]


Required Parameters
===================

--compartment-id, -c [text]

The OCID of the compartment to call into the Generative AI service
LLMs.

--documents [complex type]

A list of document strings to rerank based on the query asked. This is
a complex type whose value must be valid JSON. The value can be
provided as a string on the command line or passed in as a file using
the file://path/to/file syntax.

The "--generate-param-json-input" option can be used to generate an
example of the JSON which must be provided. We recommend storing this
example in a file, modifying it as needed and then passing it back in
via the file:// syntax.

--input [text]

Input query for search in the documents.

--serving-mode-model-id [text]

The unique ID of a model to use. You can use the ListModels API to
list the available models.


Optional Parameters
===================

--from-json [text]

Provide input to this command as a JSON document from a file using the
file://path-to/file syntax.

The "--generate-full-command-json-input" option can be used to
generate a sample json file to be used with this command option. The
key names are pre-populated and match the command option names
(converted to camelCase format, e.g. compartment-id –> compartmentId),
while the values of the keys need to be populated by the user before
using the sample file as an input to this command. For any command
option that accepts multiple values, the value of the key can be a
JSON array.

Options can still be provided on the command line. If an option exists
in both the JSON document and the command line then the command line
specified value will be used.

For examples on usage of this option, please see our “using CLI with
advanced JSON options” link: https://docs.cloud.oracle.com/iaas/Conte
nt/API/SDKDocs/cliusing.htm#AdvancedJSONOptions

--is-echo [boolean]

Whether or not to return the documents in the response.

--max-chunks-per-document [integer]

The maximum number of chunks to produce internally from a document.

--top-n [integer]

The number of most relevant documents or indices to return. Defaults
to the length of the documents.


Global Parameters
=================

Use "oci --help" for help on global parameters.

"--auth-purpose", "--auth", "--cert-bundle", "--cli-auto-prompt", "--
cli-rc-file", "--config-file", "--connection-timeout", "--debug", "--
defaults-file", "--endpoint", "--generate-full-command-json-input", "
--generate-param-json-input", "--help", "--latest-version", "--max-
retries", "--no-retry", "--opc-client-request-id", "--opc-request-id",
"--output", "--profile", "--proxy", "--query", "--raw-output", "--
read-timeout", "--realm-specific-endpoint", "--region", "--release-
info", "--request-id", "--version", "-?", "-d", "-h", "-i", "-v"


Example using required parameter
================================

Copy and paste the following example into a JSON file, replacing the
example parameters with your own.

       oci generative-ai-inference rerank-text-result rerank-text-on-demand-serving-mode --generate-param-json-input documents > documents.json
       oci generative-ai-inference rerank-text-result rerank-text-on-demand-serving-mode --generate-param-json-input input > input.json

Copy the following CLI commands into a file named example.sh. Run the
command by typing “bash example.sh” and replacing the example
parameters with your own.

Please note this sample will only work in the POSIX-compliant bash-
like shell. You need to set up the OCI configuration and appropriate
security policies before trying the examples.

       export compartment_id=<substitute-value-of-compartment_id> # https://docs.cloud.oracle.com/en-us/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/generative-ai-inference/rerank-text-result/rerank-text-on-demand-serving-mode.html#cmdoption-compartment-id
       export serving_mode_model_id=<substitute-value-of-serving_mode_model_id> # https://docs.cloud.oracle.com/en-us/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/generative-ai-inference/rerank-text-result/rerank-text-on-demand-serving-mode.html#cmdoption-serving-mode-model-id

       oci generative-ai-inference rerank-text-result rerank-text-on-demand-serving-mode --compartment-id $compartment_id --documents file://documents.json --input file://input.json --serving-mode-model-id $serving_mode_model_id
